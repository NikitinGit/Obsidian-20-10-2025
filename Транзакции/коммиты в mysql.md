–í MySQL –∫–æ–º–º–∏—Ç—ã –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –±—ã–≤–∞—é—Ç –¥–≤—É—Ö —Ç–∏–ø–æ–≤:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (AUTOCOMMIT) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç**
    
    - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é MySQL –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ñ–∏–∫—Å–∞—Ü–∏—é (`COMMIT`) –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞ (–µ—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –æ—Ç–∫–ª—é—á–µ–Ω—ã).
    - –≠—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `SET autocommit = 0;` (–≤—ã–∫–ª—é—á–∏—Ç—å) –∏–ª–∏ `SET autocommit = 1;` (–≤–∫–ª—é—á–∏—Ç—å).
2. **–†—É—á–Ω–æ–π (EXPLICIT COMMIT) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç**
    
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —è–≤–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö:
       ```
START TRANSACTION;`
`UPDATE accounts SET balance = balance - 100 WHERE id = 1;`
`UPDATE accounts SET balance = balance + 100 WHERE id = 2;`
`COMMIT;

1. - –ë–µ–∑ COMMIT –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º–∏.
2. **–û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π (DELAYED COMMIT) ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π**
    
    - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `innodb_flush_log_at_trx_commit`.
    - –ó–Ω–∞—á–µ–Ω–∏—è:
        - `0` ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è –≤ –ª–æ–≥ —Ç–æ–ª—å–∫–æ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É (–ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö).
        - `1` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –±–µ–∑–æ–ø–∞—Å–Ω–æ).
        - `2` ‚Äî –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥ —Å—Ä–∞–∑—É, –Ω–æ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ –¥–∏—Å–∫.

### –ö–∞–∫ —É–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º –∫–æ–º–º–∏—Ç–∞?
```
SELECT @@autocommit;  -- 1 (–≤–∫–ª—é—á—ë–Ω) –∏–ª–∏ 0 (–≤—ã–∫–ª—é—á–µ–Ω)
SELECT @@innodb_flush_log_at_trx_commit; -- 0, 1 –∏–ª–∏ 2

```
### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–º–º–∏—Ç?

- –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∫–æ–º–º–∏—Ç:
```
SET autocommit = 0;
```
-  –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∫–æ–º–º–∏—Ç:
```
SET autocommit = 1;
``` 
–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ InnoDB (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–º–∏—Ç–æ–≤ InnoDB):
```
SET GLOBAL innodb_flush_log_at_trx_commit = 2;
```
–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å `innodb_flush_log_at_trx_commit = 1`.



### **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –ë–î**

–°–∏–Ω—å–æ—Ä—É –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –°–£–ë–î (PostgreSQL, MySQL, Oracle, SQL Server) —Ä–µ–∞–ª–∏–∑—É—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (MVCC, WAL, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏).

### **5. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö**

üîπ **2PC (Two-Phase Commit)** ‚Äì –¥–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –∫–æ–º–º–∏—Ç –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —É–∑–ª–∞–º–∏.  
üîπ **SAGA** ‚Äì –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2PC –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è —Ü–µ–ø–æ—á–∫—É –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.  
üîπ **CAP-—Ç–µ–æ—Ä–µ–º–∞** ‚Äì –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –º–µ–∂–¥—É —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é (Consistency), –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é (Availability) –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å—é –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é (Partition Tolerance).