https://habr.com/ru/articles/488654/
https://www.rabbitmq.com/tutorials/tutorial-one-java 

1. [x] Ğ§Ñ‚Ğ¾ Ğ½Ğµ Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» ÑÑ‚Ğ¾Ñ‚ Ğ±Ñ€Ğ¾ĞºĞµÑ€ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ (ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ ÑĞµÑ€Ğ²ĞµÑ€ ?) - Ğ´Ğ° 
2. [x] Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ»Ğ¸ Ğ¾Ğ½ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ½Ğ° Ğ´Ğ¸ÑĞºĞµ Ğ¸ ĞµÑĞ»Ğ¸ Ğ´Ğ° Ñ‚Ğ¾ Ğ³Ğ´Ğµ

>[!question]- Base
>Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ñ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑĞ¼Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
>Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½ Ğ½Ğ° ÑĞ·Ñ‹ĞºĞµ Erlang, ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» AMQP (Advanced Message Queuing Protocol - Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» Ğ¾Ñ‡ĞµÑ€ĞµĞ´ĞµĞ¹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹)

>[!question]- AMQP
>Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… TCP/IP - Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ½Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»
> ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» Ğ¾ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ , Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºÑƒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºÑƒ Ğ½Ğ° Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹.
> ĞŸĞ¾Ğ½ÑÑ‚Ğ¸Ñ
> 1. Exchange - ĞĞ±Ğ¼ĞµĞ½Ğ½Ğ¸Ğº, Ğ² ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ. Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ¾Ğ´Ğ½Ñƒ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ĞµĞ¹. ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ ÑĞ²ÑĞ·ĞµĞ¹ binding Ñ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑĞ¼Ğ¸.
> 2. Queue - Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ½Ğ° Ğ´Ğ¸ÑĞºĞµ Ğ¸Ğ»Ğ¸ Ğ² Ğ¾Ğ·Ñƒ, Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ ĞºĞ¾Ğ¿Ğ¸Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ½ÑÑŒÑĞ¼ĞµÑ€Ğ°Ğ¼ . ĞĞ´Ğ½Ğ° Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸.
> 3. Binding -  ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ² ĞºĞ°ĞºÑƒÑ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ¿Ğ°ÑÑ‚ÑŒ ÑÑ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ. Ğ£ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ½Ğ¸ĞºĞ° Ğ¸ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ±Ğ¸Ğ½Ğ´Ğ¸Ğ½Ğ³Ğ¾Ğ².

>[!question]-  ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ 
>1. ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ  Attempting to connect to: [127.0.0.1:32768] 
>2.  Created new connection: rabbitConnectionFactory#2042ccce:0/SimpleConnection@7e446d92 [delegate=amqp://myuser@127.0.0.1:32768/, localPort=47268] - Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ÑĞµĞ½Ğ¸Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¾ - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» amqp 
>3.  Auto-declaring a non-durable, auto-delete, or exclusive Queue (spring-boot) 
>   durable:false, auto-delete:false, exclusive:false.  Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ÑÑ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ñ Ğ¸Ğ¼ĞµĞ½ĞµĞ¼ spring-boot 
>   non-durable = ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ½Ğ° Ğ´Ğ¸ÑĞº
>   Ğ•ÑĞ»Ğ¸ RabbitMQ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑÑ, Ğ²ÑĞµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½Ñ‹
>4. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
>5. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ 

>[!question]- Ğ·Ğ°Ñ‡ĞµĞ¼ Ğ½ÑƒĞ¶ĞµĞ½ routingKey Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞµ 
> Routing Key - ÑÑ‚Ğ¾ ĞºĞ»ÑÑ‡ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸  ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼ĞµÑ‡Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ 
> Ğ“Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ RabbitMQ: "Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¼ĞµÑ‚ĞºÑƒ foo.bar.baz" 

>[!question]- "foo.bar.#" - ÑÑ‚Ğ¾ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ (ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½)
> Routing Key - ÑÑ‚Ğ¾ ĞºĞ»ÑÑ‡ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸  ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼ĞµÑ‡Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ - ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ¸ĞºÑƒ exchanger Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ , Ñƒ ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… routingKey Ğ½Ğ°Ñ‡Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ñ ÑÑ‚Ğ¾Ğ¹ Ğ¼ĞµÑ‚ĞºĞ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€  oo.bar.baz) Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑÑŒÑ Ğ² ÑÑ‚Ñƒ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
> Ğ“Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ RabbitMQ: "Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¼ĞµÑ‚ĞºÑƒ foo.bar.baz"  
> Ğ“Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ RabbitMQ: "Ğ­Ñ‚Ğ° Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ñƒ ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… routing key Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ñ foo.bar." 

>[!question]-  Ğ§ĞµÑ€ĞµĞ· ĞºĞ°ĞºĞ¾Ğ¹ ĞºĞ»Ğ°ÑÑ Ğ¿Ğ¾ÑÑ‹Ğ»Ğ°ÑÑ‚ÑÑ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
> RabbitTemplate .convertAndSend(MessagingRabbitmqApplication.topicExchangeName, "foo.bar.baz", "ĞĞ¸ĞºĞ¸Ñ‚Ğ¸Ğ½ 125" );

>[!question]-  Ğ•ÑÑ‚ÑŒ Ğ»Ğ¸ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ 
> Publisher â†’ RabbitMQ - Ğ´Ğ° (ÑĞµÑ€Ğ²ĞµÑ€ Ñ€ÑĞ±Ğ±Ğ¸Ñ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ» ÑÑ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ¾Ñ‡ĞµĞµÑ€ĞµĞ´Ğ¸ Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¾Ğ± ÑÑ‚Ğ¾Ğ¼ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ½Ğ¼Ğµ )
>  convertAndSend() Ğ–Ğ”Ğ•Ğ¢ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ (ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾) 
>   "Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ğ¾ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ"    
>    RabbitMQ â†’ Consumer (Receiver) - ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°  - "Ğ’Ğ¾Ñ‚ Ñ‚ĞµĞ±Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ"   
>    Consumer â†’ RabbitMQ  ACK (acknowledgment) - Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸  "Ğ¯ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ"  

>[!question]-  ĞœĞµÑ‚Ğ¾Ğ´ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹
>```
>@Bean  
>MessageListenerAdapter listenerAdapter(Receiver receiver) {  
>return new MessageListenerAdapter(receiver, "receiveMessage");  
>}
>```
> ĞĞµÑ‚ - Ğ½Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ 

>[!question]-  REST VS RABBITMQ
>RABBITMQ Ğ² Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑĞµÑ‚ÑÑ Ğ² Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞµ Ğ¿Ğ¸ÑĞµĞ¼ ?
> REST Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ², Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‰Ğ¸Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
> RabbitMQ Ğ´Ğ»Ñ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ¸ Ğ¼ĞµĞ¶ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸

>[!question]-  Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ»Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ° Ğ´Ğ¸ÑĞºĞµ
> Ğ”Ğ°
# Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ´Ğ¸ÑĞºĞµ
 Ğ“Ğ´Ğµ RabbitMQ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ

  RabbitMQ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
  - Linux: /var/lib/rabbitmq/mnesia/
  - Windows: C:\Users\<username>\AppData\Roaming\RabbitMQ\db\
  - Docker: Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ /var/lib/rabbitmq/

  Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ² Ğ²Ğ°ÑˆĞµĞ¼ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ

  Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ñ Ğ½Ğ° MessagingRabbitmqApplication.java:23 - ÑĞµĞ¹Ñ‡Ğ°Ñ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ ĞĞ• Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ°Ñ:

  return new Queue(queueName, false);

  Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ false Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ½Ğ° Ğ´Ğ¸ÑĞº Ğ¸ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½Ñ‹ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞµ RabbitMQ.

  ĞšĞ°Ğº Ğ²ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ

  Ğ”Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ° Ğ´Ğ¸ÑĞº Ğ½ÑƒĞ¶Ğ½Ğ¾:

  1. Ğ¡Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ durable (Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€Ğ¾ĞºÑƒ 23):
  return new Queue(queueName, true);  // true = durable
  2. ĞŸĞ¾Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ ĞºĞ°Ğº persistent Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞµ:
  rabbitTemplate.convertAndSend(exchange, routingKey, message,
      m -> {
          m.getMessageProperties().setDeliveryMode(MessageDeliveryMode.PERSISTENT);
          return m;
      });

# Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚ 
  ğŸ”„ RabbitMQ vs REST API

  ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ğµ:

  REST API (ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğ¹):
  Client â†’ HTTP Request â†’ Server â†’ Response â†’ Client
           â””â”€ Ğ¶Ğ´ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° â”€â”˜

  RabbitMQ (Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğ¹):
  Producer â†’ Message â†’ RabbitMQ â†’ Consumer
             â””â”€ Ğ½Ğµ Ğ¶Ğ´ĞµÑ‚ â”€â”˜

  ---
  âœ… ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ RabbitMQ:

  1. ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° (fire-and-forget)

  Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹: ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° email ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹

  // âŒ ĞŸĞ›ĞĞ¥Ğ: REST API
  @PostMapping("/register")
  public Response registerUser(User user) {
      userService.save(user);

      // ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¶Ğ´ĞµÑ‚, Ğ¿Ğ¾ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑÑ email!
      emailService.sendWelcomeEmail(user);  // â³ 2-3 ÑĞµĞºÑƒĞ½Ğ´Ñ‹

      return Response.ok();  // ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚
  }

  // âœ… Ğ¥ĞĞ ĞĞ¨Ğ: RabbitMQ
  @PostMapping("/register")
  public Response registerUser(User user) {
      userService.save(user);

      // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¸ ÑÑ€Ğ°Ğ·Ñƒ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚
      rabbitTemplate.convertAndSend("email-queue", new EmailMessage(user));

      return Response.ok();  // Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚! (~50ms)
  }

  // Ğ’ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¼ ÑĞµÑ€Ğ²Ğ¸ÑĞµ/Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞµ
  @RabbitListener(queues = "email-queue")
  public void handleEmailMessage(EmailMessage msg) {
      emailService.sendWelcomeEmail(msg.getUser());  // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ² Ñ„Ğ¾Ğ½Ğµ
  }

  ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:
  - âœ… Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
  - âœ… Email Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ñ„Ğ¾Ğ½Ğµ
  - âœ… Ğ•ÑĞ»Ğ¸ email-ÑĞµÑ€Ğ²Ğ¸Ñ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸

  ---
  2. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ¹ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ (ÑĞ³Ğ»Ğ°Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸ĞºĞ¾Ğ²)

  Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ½Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

  Ğ‘ĞµĞ· RabbitMQ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ĞŸĞ¸ĞºĞ¾Ğ²Ğ°Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° (1000 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ·Ğ° Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ)                â”‚
  â”‚                                                         â”‚
  â”‚ API Server: ğŸ’¥ğŸ’¥ğŸ’¥ ĞŸĞµÑ€ĞµĞ³Ñ€ÑƒĞ¶ĞµĞ½                            â”‚
  â”‚ Database:   ğŸ’¥ğŸ’¥ğŸ’¥ ĞĞµ ÑĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ                        â”‚
  â”‚ Users:      â°â°â° Ğ¢Ğ°Ğ¹Ğ¼Ğ°ÑƒÑ‚Ñ‹                                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Ğ¡ RabbitMQ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 1000 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² â†’ RabbitMQ Queue                            â”‚
  â”‚                                                         â”‚
  â”‚ 5 Workers Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ ÑĞ¾ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒÑ 100 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²/Ğ¼Ğ¸Ğ½      â”‚
  â”‚ ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¿Ğ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ                         â”‚
  â”‚ Users: âœ… ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ "Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ğ¾ Ğ² Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ"  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:
  // API Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ‘Ğ«Ğ¡Ğ¢Ğ Ğ
  @PostMapping("/upload")
  public Response uploadFile(MultipartFile file) {
      String jobId = UUID.randomUUID().toString();

      // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»
      storageService.save(file, jobId);

      // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ
      rabbitTemplate.convertAndSend("file-processing-queue",
          new FileProcessingTask(jobId, file.getName()));

      return Response.ok("Job ID: " + jobId + " - processing started");
  }

  // ĞĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Workers Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾
  @RabbitListener(queues = "file-processing-queue", concurrency = "5")
  public void processFile(FileProcessingTask task) {
      // ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° (ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ, Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·, OCR...)
      fileProcessor.process(task);
  }

  ---
  3. ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Ñ€Ğ°Ğ·Ğ²ÑĞ·ĞºĞ° ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²)

  Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹: E-commerce ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°

  Ğ‘ĞµĞ· RabbitMQ (Ğ¿Ñ€ÑĞ¼Ñ‹Ğµ REST Ğ²Ñ‹Ğ·Ğ¾Ğ²Ñ‹):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” REST  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” REST  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Order   â”œâ”€â”€â”€â”€â”€â”€â–ºâ”‚ Inventoryâ”œâ”€â”€â”€â”€â”€â”€â–ºâ”‚ Shipping â”‚
  â”‚ Service  â”‚       â”‚ Service  â”‚       â”‚ Service  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ REST              â”‚ REST
       â–¼                   â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Payment  â”‚       â”‚  Email   â”‚
  â”‚ Service  â”‚       â”‚ Service  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹:
  âŒ Order Service Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¾ Ğ’Ğ¡Ğ•Ğ¥ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ñ…
  âŒ Ğ•ÑĞ»Ğ¸ Shipping Service ÑƒĞ¿Ğ°Ğ» â†’ Ğ²ĞµÑÑŒ Ğ·Ğ°ĞºĞ°Ğ· Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚
  âŒ Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ (Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ Order Service)

  Ğ¡ RabbitMQ (ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°):
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚   RabbitMQ   â”‚
                      â”‚   Exchange   â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚           â”‚           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
          â”‚Inventory â”‚   â”‚Shippingâ”‚  â”‚ Payment â”‚
          â”‚ Service  â”‚   â”‚Service â”‚  â”‚ Service â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Order   â”‚ ĞŸÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ:
  â”‚ Service  â”œâ”€â–º "OrderCreated"
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:
  âœ… Order Service ĞĞ• Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ñ…
  âœ… Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ (Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ)
  âœ… Ğ•ÑĞ»Ğ¸ Shipping ÑƒĞ¿Ğ°Ğ» â†’ Ğ·Ğ°ĞºĞ°Ğ· Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ·Ğ¶Ğµ

  ĞšĞ¾Ğ´:
  // Order Service - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
  @PostMapping("/orders")
  public Order createOrder(OrderRequest request) {
      Order order = orderService.create(request);

      // ĞŸÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµĞ¼ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ² RabbitMQ
      rabbitTemplate.convertAndSend("order-events", "order.created", order);

      return order;  // Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚
  }

  // Inventory Service - Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½ Ğ½Ğ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
  @RabbitListener(queues = "inventory-queue")
  public void handleOrderCreated(Order order) {
      inventoryService.reserve(order.getItems());
  }

  // Payment Service - Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½ Ğ½Ğ° Ñ‚Ğ¾ Ğ¶Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
  @RabbitListener(queues = "payment-queue")
  public void handleOrderCreated(Order order) {
      paymentService.charge(order.getCustomerId(), order.getTotal());
  }

  // Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Order Service!
  @RabbitListener(queues = "analytics-queue")
  public void handleOrderCreated(Order order) {
      analyticsService.track(order);
  }

  ---
  4. ĞĞ°Ğ´ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¾Ñ‚ĞºĞ°Ğ·Ğ¾ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ

  Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹: Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ API Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½

  // âŒ REST: ĞµÑĞ»Ğ¸ API Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ - Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
  @PostMapping("/sync-data")
  public void syncToExternalAPI(Data data) {
      try {
          externalApiClient.send(data);  // ğŸ’¥ Timeout!
      } catch (Exception e) {
          // Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½Ñ‹ ğŸ˜¢
      }
  }

  // âœ… RabbitMQ: ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ Ğ´Ğ¾ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
  @PostMapping("/sync-data")
  public void syncToExternalAPI(Data data) {
      rabbitTemplate.convertAndSend("external-api-queue", data);
      // Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ½Ğ°Ğ´ĞµĞ¶Ğ½Ğ¾Ğ¼ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ RabbitMQ
  }

  @RabbitListener(queues = "external-api-queue")
  public void processSync(Data data) {
      try {
          externalApiClient.send(data);  // ğŸ’¥ Timeout!
          // âŒ Exception â†’ RabbitMQ ĞĞ• ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
      } catch (Exception e) {
          // Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ²ĞµÑ€Ğ½ĞµÑ‚ÑÑ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ¸ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑÑ Ğ¿Ğ¾Ğ·Ğ¶Ğµ
          throw e;
      }
  }

  ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° retry:
  @Bean
  public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory() {
      SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();
      factory.setConnectionFactory(connectionFactory);

      // Retry ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ
      factory.setAdviceChain(
          RetryInterceptorBuilder.stateless()
              .maxAttempts(3)
              .backOffOptions(1000, 2.0, 10000)  // Exponential backoff
              .build()
      );

      return factory;
  }

  ---
  5. Ğ”Ğ¾Ğ»Ğ³Ğ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (long-running tasks)

  Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹: Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ¾Ğ²

  // âŒ REST: ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¶Ğ´ĞµÑ‚ 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
  @GetMapping("/report")
  public Report generateReport() {
      return reportService.generate();  // â³ 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚!
  }

  // âœ… RabbitMQ: Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° Ğ² Ñ„Ğ¾Ğ½Ğµ + ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ
  @PostMapping("/report")
  public Response requestReport(ReportRequest request) {
      String reportId = UUID.randomUUID().toString();

      rabbitTemplate.convertAndSend("report-queue",
          new ReportTask(reportId, request));

      return Response.ok("Report ID: " + reportId +
                        " - check status at /report/" + reportId);
  }

  @RabbitListener(queues = "report-queue")
  public void generateReport(ReportTask task) {
      Report report = reportService.generate(task);  // 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
      reportRepository.save(report);

      // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸
      rabbitTemplate.convertAndSend("notification-queue",
          new ReportReadyNotification(task.getReportId()));
  }

  ---
  ğŸŒ ĞšĞ¾Ğ³Ğ´Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ REST API:

  1. Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ (Ğ½ÑƒĞ¶ĞµĞ½ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚)

  // âœ… REST Ğ¸Ğ´ĞµĞ°Ğ»ĞµĞ½ Ğ´Ğ»Ñ CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹
  @GetMapping("/users/{id}")
  public User getUser(@PathVariable Long id) {
      return userService.findById(id);  // Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾ (~10ms)
  }

  @PostMapping("/users")
  public User createUser(@RequestBody User user) {
      return userService.save(user);  // Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾ (~50ms)
  }

  ---
  2. ĞŸÑ€Ğ¾ÑÑ‚Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±ĞµĞ· Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹

  // âœ… REST: Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
  @GetMapping("/products/search")
  public List<Product> search(@RequestParam String query) {
      return productService.search(query);  // ĞŸĞ¾Ğ¸ÑĞº Ğ² Ğ‘Ğ”
  }

  ---
  3. Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğº Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼ (ĞºĞ¾Ğ³Ğ´Ğ° Ğ½ÑƒĞ¶ĞµĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‚)

  // âœ… REST: Ğ½ÑƒĞ¶ĞµĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
  @GetMapping("/order/{id}/total")
  public OrderTotal calculateTotal(@PathVariable Long id) {
      Order order = orderService.findById(id);

      // ĞÑƒĞ¶Ğ½Ñ‹ Ñ†ĞµĞ½Ñ‹ ĞĞ¢ Product Service
      List<Price> prices = productClient.getPrices(order.getItemIds());

      return calculator.calculate(order, prices);
  }

  ---
  4. ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ API (Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²)

  // âœ… REST: ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… API
  @RestController
  @RequestMapping("/api/v1")
  public class PublicApiController {

      @GetMapping("/weather")
      public Weather getWeather(@RequestParam String city) {
          return weatherService.getWeather(city);
      }
  }

  ---
  ğŸ“Š Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°:

  | ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹        | RabbitMQ                         | REST API                  |
  |-----------------|----------------------------------|---------------------------|
  | Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° | âš¡ ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ (Ğ½Ğµ Ğ¶Ğ´ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸) | â³ Ğ–Ğ´ĞµÑ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ         |
  | ĞĞ°Ğ´ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ      | âœ… Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ (retry, persistent)    | âš ï¸ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ |
  | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ       | ğŸ”´ Ğ’Ñ‹ÑˆĞµ (Ğ½ÑƒĞ¶ĞµĞ½ Ğ±Ñ€Ğ¾ĞºĞµÑ€)           | âœ… ĞŸÑ€Ğ¾Ñ‰Ğµ                   |
  | ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | âœ… Ğ›ĞµĞ³ĞºĞ¾ (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ workers)       | âš ï¸ Ğ¡Ğ»Ğ¾Ğ¶Ğ½ĞµĞµ                |
  | ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ°         | âš ï¸ Ğ¡Ğ»Ğ¾Ğ¶Ğ½ĞµĞµ (Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾)          | âœ… ĞŸÑ€Ğ¾Ñ‰Ğµ (ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾)       |
  | Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ     | âœ… Ğ¡Ğ»Ğ°Ğ±Ğ°Ñ (decoupled)             | âš ï¸ Ğ¡Ğ¸Ğ»ÑŒĞ½Ğ°Ñ (coupled)      |
  | ĞÑƒĞ¶ĞµĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‚?    | âŒ ĞĞµÑ‚ (fire-and-forget)          | âœ… Ğ”Ğ°                      |
  | Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°  | âš ï¸ ĞÑƒĞ¶ĞµĞ½ RabbitMQ ÑĞµÑ€Ğ²ĞµÑ€         | âœ… Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ HTTP             |

  ---
  ğŸ¯ ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:

  Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ RabbitMQ ĞºĞ¾Ğ³Ğ´Ğ°:

  âœ… Ğ”Ğ¾Ğ»Ğ³Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° (> 1 ÑĞµĞºÑƒĞ½Ğ´Ğ°)
  âœ… Ğ¤Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (email, Ğ¾Ñ‚Ñ‡ĞµÑ‚Ñ‹, Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
  âœ… ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ (ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
  âœ… Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° (ÑĞ³Ğ»Ğ°Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¸ĞºĞ¾Ğ²)
  âœ… ĞÑƒĞ¶Ğ½Ğ° Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸
  âœ… ĞĞµ Ğ½ÑƒĞ¶ĞµĞ½ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚

  Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ REST API ĞºĞ¾Ğ³Ğ´Ğ°:

  âœ… Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (< 100ms)
  âœ… CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
  âœ… ĞÑƒĞ¶ĞµĞ½ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸
  âœ… ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
  âœ… ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğµ API
  âœ… ĞŸÑ€ÑĞ¼Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ-Ğ¾Ñ‚Ğ²ĞµÑ‚

  ---
  ğŸ’¡ ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ (Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ):

  // REST Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² + RabbitMQ Ğ´Ğ»Ñ Ñ„Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡

  @RestController
  public class OrderController {

      // REST: ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ğ° (Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾)
      @PostMapping("/orders")
      public Order createOrder(@RequestBody OrderRequest request) {
          Order order = orderService.create(request);

          // RabbitMQ: Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
          rabbitTemplate.convertAndSend("order-events", order);

          return order;  // Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñƒ
      }

      // REST: Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ğ° (Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾)
      @GetMapping("/orders/{id}")
      public Order getOrder(@PathVariable Long id) {
          return orderService.findById(id);
      }
  }

  Ğ’Ñ‹Ğ²Ğ¾Ğ´: Ğ’ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğµ Spring Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ ĞĞ‘Ğ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ°:
  - REST Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ², Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‰Ğ¸Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
  - RabbitMQ Ğ´Ğ»Ñ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ¸ Ğ¼ĞµĞ¶ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸