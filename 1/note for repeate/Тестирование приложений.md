# Тестирование приложений

>[!question]- @Nested
>Junit5 используется для вложенных тестов, обычно  пишется над классом , в котором тестирруется  метод 
>```
>@Nested  
@DisplayName("createBattle")  
class CreateBattleTests {
>```

>[!question]- doAnswer 
>чпозволяет через лямбду вызывать методы с определенными  аргументами  переопределяя тем самым повдение  оригинальных методов 

>[!question]-  Mockito
>Mockito - библиотека для создания мок объектов (заменителей зависимостей) , позволяяет изолтировать тестируемы  код
>от  внешних зависимостей,  таких как вебсервисы, репозитории,  базы данных. 
>Примеры
>```
>@Mock , @InjectMocks,  @MockBean , @Captor 
>```
>методы 
>```
>when(eventValidationService.getEventForChangeSortitionPage(anyInt(), anyInt())).thenReturn(event);
>when(eventRepository.save()).thenReturn(event);
>// проверяет сколько раз вызван метод и что в него переданные нужные параметры 
>verify(battleValidationService, times(1)).checkFighterBattleAbsence(fighterIds, sortitionModel.battlesWithPauses());
>verify(battleValidationService, never()).checkFighterBattleAbsence(anyList(), anyList());
>```

