#  https://ru.yougile.com/team/1117dcf1f032/#STR6-1130 дороботка судейства и уведомлений   
1. [x] добавить уведомление об удаление боев  12/35 - 14/35
2. [x] написать тесты для  уведомление об удаление боев  14/35 -14.45
3. [x] добавить уведомление об перестановке боев 15.52 - 16.52
4. [x] добавить тесты уведомление об перестановке боев 16.52
5. [ ] осталось удаление результата боя по порядку - в динамическом времени 

==всегда делать ПР в develop==
==баг на проде чинить в ветке сделанной из main== 

BlazeBit MapSturct
1. [x] 1009  https://strikerstat.atlassian.net/browse/STR-1009 
2. [x] 1008 - при смене углов местами записи в judges_scores не меняются  - ДА
3. [x] 1008 - добавил  скл и пхп миграцию данных из старой таблицы судейских оценок в новую 13.49 - 15.52
4. [x] стендап - 17.00 - 17.50
5. [ ] Получить данные и их обработать - это одна ответственнось или разные ?
6. [ ] со среды  сделал следющее - перед каждой правкой делай гит мердж с релиза в ветку 
7. [x] 1008 - бэк не  должен отправлять 3 раунда - может вообще пустой список отправить
8. [x] 1008 - новая структура дто оценок раундов позволила на фронте убрать нарушение драй в оценках 
9. [ ] со среды опционально
10. [ ] 1008 - подправь пзп миграцию 
11. [ ] 1008 - проверь экспорт в эксель 
12. [ ] 1008 - подправь джсон спецификацию 
13. [x] 1008 - подправить миграции на пхп - устрани ошибку и убери нот налл в judges_round_scores и round поменяй  на roundNumber и измени спецификацию
14. [ ] 1008 - попоробуй варинта QueryDsl  
15. [ ] валидация на ож при кнопке удалить результат боя 
16. [ ] ошибка с предоплатой если дата позже изменной даты соревнования  - написать в чате 
17. [ ] вэйт категори джсон - 

18. [ ] добавь валидацию на установку судьи на ринг 
19. [ ] для удаления следующих устаревших классов/методов нежен рефаторинг - BidFromEventPage , SortitionCRUD 
# баг экспорта в эксель [STR6-1124](https://ru.yougile.com/team/1117dcf1f032/#STR6-1124)  
5. [ ] Поменяй String weighInStartTime на LocalDateTime  weighInStartTime в динамичесокм времени 



# Черновик создания соревнования ОР
5. [ ] 1068 ждем динамическое время 

# На фронте использовать нотификации в js
```
import { notifyError } from "~/composables/show-notification2";

notifyError("Раунд не существует или не доступен для редактирования. Обновите страницу и повторите попытку.", 6000);
```
# миграции в PHP
>[!question]- как запустить 
>прописать в конфиге в  environment.systemPackages = with pkgs; 
>```
>cd /home/igor/IdeaProjects/strikerstat/backend-php 
>php artisan migrate:rollback --step=1  # откат  если не первый раз 
>php artisan migrate 
>```
>прописать в конфиге в  environment.systemPackages = with pkgs; 
>```
>cd /home/igor/IdeaProjects/strikerstat/backend-php && php artisan migrate
>```
>или это, возможно не работает 
>```
>php
>phpPackages.composer 
>```
> cd /home/igor/IdeaProjects/strikerstat/backend-php
  composer install  # Установит ~100+ пакетов Laravel
  php artisan migrate  # Только после этого заработает

>[!question]- Как  отдельно запустить up() / down()
> Запустить отедельно  миграцию  (up() )
>```
>  php artisan migrate --path=/database/migrations/2025_12_24_000000_migrate_judges_scores_to_new_structure.php
>```
>Запуск метода down() (откатить миграцию):
> Вариант 1: Откатить последнюю пакетную миграцию
>```
>  php artisan migrate:rollback
>```
> Вариант 2: Откатить только эту конкретную миграцию
>```
>  php artisan migrate:rollback --path=/database/migrations/2025_12_24_000000_migrate_judges_scores_to_new_structure.php
>```
> Вариант 3: Откатить последнюю одну миграцию 
> ```
>  php artisan migrate:rollback --step=1
> ```
>  Посмотреть статус миграций
>  ```
>   php artisan migrate:status
>  ```
>   Откатить и заново применить миграцию (down + up)
>   ```
>    php artisan migrate:refresh --path=/database/migrations/2025_12_24_000000_migrate_judges_scores_to_new_structure.php
>   ```


# Полная инструкция 
1. Первый запуск (если миграция еще не выполнялась):                                                                                                                                                                                                                                                                                                                                            
  php artisan migrate                                                                                                                                                                                                                                                                                               
  Это выполнит все невыполненные миграции, включая нашу.                                                                                                                                                                                                                                                            
  2. Если нужно выполнить только эту конкретную миграцию:                                                                                                                                                                                                                                                                                                                  
  php artisan migrate --path=database/migrations/2025_12_24_000000_migrate_judges_scores_to_new_structure.php                                                                                                                                                                                                        
3. Если миграция уже выполнена и нужно переделать:                                                                                                                                                                                                                                                                                                                                                         
  # Сначала откат                                                                                                                                                                                                                                                                                                   
  php artisan migrate:rollback --step=1                                                                                                                                                                                                                                                                             
    
  # Потом заново запуск                                                                                                                                                                                                                                                                                             
  php artisan migrate                                                                                                                                                                                                                                                                                               
    
  Текущее состояние:                                                                                                                                                                                                                                                                                                
● Bash(php artisan migrate:status 2>&1 | grep -E "migrate_judges_scores|Migration name|Ran\?")                                                                                                                                                                                                                      
  ⎿  | Ran? | Migration                                                           | Batch |                                                                                                                                                                                                                         
     | Yes  | 2025_12_24_000000_migrate_judges_scores_to_new_structure            | 62    |                                                                                                  
● Миграция уже выполнена (Ran? = Yes, Batch = 62).                                                                                                                                                                          
  Сейчас таблица judges_round_scores создана со всеми foreign keys и готова к использованию. Данных нет, потому что старая таблица judges_scores была пустая.                                                                                                                                                       

  Если нужно переделать миграцию:                                                                                                                                                                                                                                                                                   
  php artisan migrate:rollback --step=1  # откат                                                                                                                                                                                                                                                                    
  php artisan migrate                     # повторный запуск       